@inherits LayoutComponentBase

<MudThemeProvider Theme="@_theme" IsDarkMode="_isDarkMode"/>

<MudLayout>
    @if (Loggedin)
    {
        <MudAppBar Elevation="1">
            <MudLink Href="/" Color="Color.Default">
                <MudImage Src="img/applogo.svg" Alt="App Logo"/>
            </MudLink>
            <MudSpacer />
            <MudIconButton Icon="@Icons.Material.Filled.ShoppingCart"></MudIconButton>
            <MudButton Variant="Variant.Text" Href="/login" Class="mx-2">
                <MudText>Kelasku</MudText>
            </MudButton>
            <MudButton Variant="Variant.Text" Href="/register" Class="mx-2">
                <MudText>Pembelian</MudText>
            </MudButton>
            <MudText Class="mx-2">|</MudText>
            <MudIconButton Icon="@Icons.Material.Filled.Person"></MudIconButton>
            <MudIconButton Icon="@Icons.Material.Filled.Logout" OnClick="Logout"></MudIconButton>
        </MudAppBar>
    }
    else
    {
        <MudAppBar Elevation="1">
            <MudLink Href="/" Color="Color.Default">
                <MudImage Src="img/applogo.svg" Alt="App Logo"/>
            </MudLink>
            <MudSpacer />
            <MudButton Variant="Variant.Text" Href="/register" Class="mx-2">
                <MudText>Daftar Sekarang</MudText>
            </MudButton>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/login">
                <MudText>Masuk</MudText>
            </MudButton>
        </MudAppBar>
    }
    <MudMainContent Class="pt-16 pa-4">
        @Body
    </MudMainContent>
</MudLayout>


<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

@code {
    MudTheme MyCustomTheme = new MudTheme()
    {
        Typography = new Typography()
        {
            Default = new DefaultTypography()
            {
                FontFamily = new[] {"Poppins"},
                FontWeight = "500"

            }
        }
    };

    private bool Loggedin = true;
    private void Logout()
    {
        Loggedin = false;
    }

    private bool _drawerOpen = true;
    private bool _isDarkMode = false;
    private MudTheme? _theme = null;

    protected override void OnInitialized()
    {
        base.OnInitialized();

        _theme = new()
        {
            PaletteLight = _lightPalette,
            LayoutProperties = new LayoutProperties()
        };
    }

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }


    private readonly PaletteLight _lightPalette = new()
    {
        Black = "#110e2d",
        AppbarText = "#424242",
        AppbarBackground = "#F2C94C",
        DrawerBackground = "#ffffff",
        GrayLight = "#e8e8e8",
        GrayLighter = "#f9f9f9",
    };

    
}


