@page "/forgot-password"

@using System.ComponentModel.DataAnnotations
@using MudBlazor.Services;
@using Microsoft.Extensions.Localization;
@inject NavigationManagerExt Navigation;

<PageTitle>Forgot Password</PageTitle>

<MudPaper Class="pa-0 mx-auto mt-12" MaxWidth="800px" Elevation="0">

    <MudText Typo="Typo.h5" Class="mb-4">Reset Password</MudText>
    <MudText Typo="Typo.subtitle1" Class="mb-4">Silahkan masukkan terlebih dahulu email Anda</MudText>

    <MudForm @ref="_form">
        <MudTextField @bind-Value="_loginModel.Email"    
                      Label="Masukkan Email"
                      Variant="Variant.Outlined"
                      Required="true"
                      RequiredError="Email Harus diisi!"
                      Validation="@(new EmailAddressAttribute() {ErrorMessage = "Format Email Salah '@' dan '.'"})" />
      
    <!--Button Batal -->
    <MudStack Direction="Row" Spacing="5" Row="true" class="mt-4">
    <MudButton OnClick="Navigation.GoToLogin" Variant="Variant.Outlined" Color="Color.Primary" Style="width: 140px; height: 43px; border-radius: 8px">
            Batal
    </MudButton>
   
    <!--Button Konfirmasi -->
     <MudButton OnClick="OnConfirm" Variant="Variant.Filled" Color="Color.Primary" Style="width: 140px; height: 43px; border-radius: 8px">
            Konfirmasi
    </MudButton>
    </MudStack>

    
    </MudForm>
</MudPaper>

@code {
    private MudForm _form;
    private LoginModel _loginModel = new();
    
    public class LoginModel
    {
        public string Email { get; set; }

    }

    private async Task OnConfirm()
    {
        await _form.Validate();
        if (_form.IsValid)
        {
            Navigation.GoToNewPass();
        }
    }
}
